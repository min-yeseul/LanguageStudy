<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8">

{% include "head.html" %}
{% include "header.html" %}

<body>
  <main id="main">


    <!-- ======= Contact Section ======= -->
    <section id="contact" class="contact">
      <div class="container" data-aos="fade-up">
<a href="../" class="btn-about">back</a>
        <div class="section-title">
          <h2>Contact</h2>
          <p>Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas.</p>
        </div>


        <style>
          .quiz-container{
              position:relative;
              background-color:#f8f6f0;
              font-size:17px;
              color:#333;
              height:150px;
              margin-top:40px;
              text-align:center;
              font-weight:300;
          }

          .slide{
             position:absolute;
             left:0px;
             top:40px;
             width:100%;
             z-index:1;
             opacity:0;
             transition:opacity 0.5s;
          }

          .active-slide{
             opacity:1;
             z-index:2;
          }

          .quiz-btn{
            font-size:22px;
            color:#fff;
            background-color:#279;
            border-radius:5px;
            padding:5px 15px;
            margin:10px;
            cursor:pointer;
            margin-bottom:20px;
          }
          .quiz-btn:hover{
             background-color:#38a;
          }
          .quiz-ctrl{

             text-align:center;

          }
          .answer{
             margin-bottom:20px;
          }
          .question{

             margin-bottom:10px;
          }
        </style>

        <div class="quiz-container">
<div id="quiz">&nbsp;</div>
</div>
<div class="quiz-ctrl"><button id="previous" class="quiz-btn"> back </button><button id="next" class="quiz-btn"> next </button><button id="submit" class="quiz-btn"> 결과확인 </button>
<div id="result">&nbsp;</div>
</div>
<p>
<script>

//Model
const quizData =[
      {% for word in words %}
          {
             question : "{{ word.question }}",
             answers :{
              a: "{{word.a}}",
              b: "{{word.b}}",
              c: "{{word.c}}"
             },
             correct : "{{ word.correct }}"
          },
        {% endfor %}
       ]
 const quizDisplay = document.getElementById('quiz');
 const submitBtn = document.getElementById('submit');
 const previousBtn = document.getElementById('previous');
 const nextBtn = document.getElementById('next');

 let currentSlide = 0;
 const resultDisplay = document.getElementById('result');

 function buildQuiz(){
      let output = [ ];
       quizData.forEach(
           (currentQuestion, questionNum) => {
                       const answers = [ ];
                       for(item in currentQuestion.answers){
                                   answers.push(`<label>
                                                <input type="radio" name="question${questionNum}" value="${item}">
                                                    ${item} : ${currentQuestion.answers[item]}
                                                </label>`);
                          }
                          var a= "/static/images/";

                          var b = currentQuestion.question;

                          var b2 = encodeURI(b);

                          var c = ".png";
                          var tmp = a+b+c;

                             output.push(`<div class="slide"><div class="question"><img width="30" height="30" id = "word_image" src=${tmp}  alt=""></div>
                                          <div class="answer">${answers.join('&nbsp;&nbsp;&nbsp;&nbsp;')}</div></div>`);
                    }
       );
          quizDisplay.innerHTML = output.join('</br>');
    }

 function showResult(){
         const answerDisplays = quizDisplay.querySelectorAll('.answer');
           let numCorrect = 0;

            quizData.forEach( (currentQuestion, questionNum)=>{
                   const answerDisplay = answerDisplays[questionNum];
                   const selector = `input[name=question${questionNum}]:checked`;
                   const userAnswer = (answerDisplay.querySelector(selector) || {}).value;


                    if(userAnswer === currentQuestion.correct){
                            numCorrect++;
                            answerDisplays[questionNum].style.color = 'lightgreen';
                    }else{
                            answerDisplays[questionNum].style.color = 'red';
                    }
            });


              submitBtn.style.display = 'none';
              resultDisplay.innerHTML = `<h3 style="color:#333;">${quizData.length}개중에서 ${numCorrect}개 맞추셨습니다.</h3>`
    }


function showSlide(n){
     slides[currentSlide].classList.remove('active-slide');
	 slides[n].classList.add('active-slide');
	 currentSlide = n;
	   if(currentSlide === 0){
	       previousBtn.style.display = 'none';
	   }else{
	       previousBtn.style.display = 'inline-block';
	   }
	   if(currentSlide === slides.length-1){
	       nextBtn.style.display = 'none';
		   submitBtn.style.display = 'inline-block';
	   }else{
	       nextBtn.style.display = 'inline-block';
		   submitBtn.style.display = 'none';
               if(document.getElementById('retry')){
                       document.getElementById('retry').style.display = 'none';
                 }

	   }
}

function showNextSlide(){  showSlide(currentSlide+1); }
function showPreviousSlide(){ showSlide(currentSlide-1); }


    buildQuiz();
  const slides = document.querySelectorAll('.slide');
	showSlide(currentSlide);
     previousBtn.addEventListener('click',showPreviousSlide);
     nextBtn.addEventListener('click',showNextSlide);
    submitBtn.addEventListener('click',showResult);


</script>

        <div>
          <iframe style="border:0; width: 100%; height: 270px;" src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d12097.433213460943!2d-74.0062269!3d40.7101282!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0xb89d1fe6bc499443!2sDowntown+Conference+Center!5e0!3m2!1smk!2sbg!4v1539943755621" frameborder="0" allowfullscreen></iframe>
        </div>

        <div class="row mt-5">

          <div class="col-lg-4">
            <div class="info">
              <div class="address">
                <i class="bi bi-geo-alt"></i>
                <h4>Location:</h4>
                <p>A108 Adam Street, New York, NY 535022</p>
              </div>

              <div class="email">
                <i class="bi bi-envelope"></i>
                <h4>Email:</h4>
                <p>info@example.com</p>
              </div>

              <div class="phone">
                <i class="bi bi-phone"></i>
                <h4>Call:</h4>
                <p>+1 5589 55488 55s</p>
              </div>

            </div>

          </div>

          <div class="col-lg-8 mt-5 mt-lg-0">

            <form action="forms/contact.php" method="post" role="form" class="php-email-form">
              <div class="row">
                <div class="col-md-6 form-group">
                  <input type="text" name="name" class="form-control" id="name" placeholder="Your Name" required>
                </div>
                <div class="col-md-6 form-group mt-3 mt-md-0">
                  <input type="email" class="form-control" name="email" id="email" placeholder="Your Email" required>
                </div>
              </div>
              <div class="form-group mt-3">
                <input type="text" class="form-control" name="subject" id="subject" placeholder="Subject" required>
              </div>
              <div class="form-group mt-3">
                <textarea class="form-control" name="message" rows="5" placeholder="Message" required></textarea>
              </div>
              <div class="my-3">
                <div class="loading">Loading</div>
                <div class="error-message"></div>
                <div class="sent-message">Your message has been sent. Thank you!</div>
              </div>
              <div class="text-center"><button type="submit">Send Message</button></div>
            </form>

          </div>

        </div>

      </div>
    </section><!-- End Contact Section -->

  </main><!-- End #main -->

 

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="/static/vendor/purecounter/purecounter.js"></script>
  <script src="/static/vendor/aos/aos.js"></script>
  <script src="/static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="/static/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="/static/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="/static/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="/static/vendor/waypoints/noframework.waypoints.js"></script>
  <script src="/static/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="/static/js/main.js"></script>

</body>
{% include "footer.html" %}
</html>